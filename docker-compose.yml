services:
  mediapipe311:
    image: mediapipe311
    container_name: mediapipe311
    working_dir: /workspace
    volumes:
      - .:/workspace:cached
      - "${MP4_DIR:-./mp4}:/data/mp4"
      - "${OUTPUT_DIR:-./output}:/output"
    environment:
      - PYTHONDONTWRITEBYTECODE=1
      - PYTHONUNBUFFERED=1
      - SHOW_WINDOW=0
      - MPLCONFIGDIR=/tmp/matplotlib
      - OUTPUT_DIR=/output
    stdin_open: true
    tty: true
    command: ["sleep", "infinity"]
